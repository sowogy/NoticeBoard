<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
      th:fragment="layout(content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>경성 게시판</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet" crossorigin="anonymous">
</head>
<body>
<!-- 흰색 배경 + 하단 경계선 -->
<nav class="navbar navbar-expand-lg bg-white border-bottom shadow-sm" style="min-height:56px;">
    <div class="container">
        <!-- 브랜드 -->
        <a class="navbar-brand d-flex align-items-center gap-2 text-dark text-decoration-none"
           th:href="@{/article/list}">
            <!-- 이미지 크기를 Navbar 높이(56px)와 맞춤 -->
            <img th:src="@{/image/image/ks.jpg}" alt="경성 로고"
                 width="56" height="56  "
                 class="d-inline-block align-text-top rounded">
        </a>

        <!-- 모바일 토글 버튼 -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
                aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- 메뉴 -->
        <div class="collapse navbar-collapse" id="mainNavbar">
            <ul class="navbar-nav ms-auto"> <!-- 가운데 정렬 위해 ms-auto → mx-auto -->
                <!-- 추가된 메뉴 -->
                <li class="nav-item">
                    <a th:href="@{/intro}" class="nav-link">게시판 소개</a>
                </li>
                <li class="nav-item">
                    <a th:href="@{/contact}" class="nav-link">문의사항</a>
                </li>
                <li class="nav-item">
                    <a th:href="@{/notice}" class="nav-link">공지사항</a>
                </li>
            </ul>

            <ul class="navbar-nav ms-auto">
                <!-- 비회원 -->
                <li class="nav-item" sec:authorize="isAnonymous()">
                    <a th:href="@{/login}" class="nav-link">로그인</a>
                </li>
                <li class="nav-item" sec:authorize="isAnonymous()">
                    <a th:href="@{/signup}" class="nav-link">회원가입</a>
                </li>

                <!-- 관리자 -->
                <li class="nav-item dropdown" sec:authorize="hasAnyRole('ADMIN')">
                    <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false">관리자 메뉴</a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" th:href="@{/member/list}">회원관리</a></li>
                    </ul>
                </li>

                <!-- 로그인 사용자 -->
                <li class="nav-item dropdown" sec:authorize="isAuthenticated()">
                    <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                       aria-expanded="false" sec:authentication="principal.displayName">홍길동</a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" th:href="@{/password}">비밀번호 변경</a></li>
                        <li><a class="dropdown-item" th:href="@{/logout}">로그아웃</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<br>
<div class="container" th:replace="${content}"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>
</html>
